!function(){"use strict";angular.module("spaStore",["ui.router","ui.bootstrap","ui.checkbox","spaStore.admin","spaStore.users"]).constant({CONSTANTS:{USERS_ENDPOINT:"api/users/",DEVELOPMENT:{DEVELOPMENT_BASE:"http://localhost:3030/"}}}).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,r,s){s.html5Mode({enabled:!0,requireBase:!1}),r.otherwise("/dashboard"),e.state("main",{templateUrl:"app/main/views/main.html","abstract":!0,controller:"MainController",controllerAs:"main",resolve:{auth:function(){console.log("hi")}}}),e.state("main.dashboard",{templateUrl:"app/dashboard/views/dashboard.html",url:"/dashboard",data:{pageTitle:"Welcome"},controller:"DashboardController",controllerAs:"dashboard"})}])}(),function(){"use strict";angular.module("spaStore").controller("DashboardController",["$q","$http",function(e,r){var s=this;s.carousselInterval=3e3,s.carousselActive=1,s.noWrapSlides=!1,s.carousselImages=[{image:"http://www.taiwah.com.sg/images/products/thumbnail/18_20130118_10460878.jpg",id:0,text:"Promo text"},{image:"http://www.smartbuy.ru/images/anesi_brand.jpg",id:1,text:"Promo text"}]}])}(),function(){"use strict";angular.module("spaStore").controller("MainController",["$q","$http",function(e,r){var s=this;s.navbarLinkItems=["Начало","За Козметици","Проомоции"],s.allCategories=[{name:"Козметика за лице",type:"main"},{name:"Суха кожа",type:"sub"}],s.selectedCategory="",s.allBrands=["ANESI","Depileve","Belfeet","Ramason"],s.selectedBrand=""}])}(),function(){"use strict";angular.module("spaStore").factory("commonMethods",["$window","$timeout",function(e,r){var s=this;return s.getObjectFromLocalStorage=function(r){var s=e.localStorage.getItem(r);return null!=s?JSON.parse(s):null},s.setObjectInLocalStorage=function(r,s){s.LastSaveTime=new Date,e.localStorage.setItem(r,JSON.stringify(s))},s.getObjectFromSessionStorage=function(r){var s=e.sessionStorage.getItem(r);return null!=s?JSON.parse(s):null},s.setObjectInSessionStorage=function(r,s){e.sessionStorage.setItem(r,JSON.stringify(s))},this}])}(),function(){"use strict";angular.module("spaStore.users",["ui.router"]).config(["$stateProvider",function(e){e.state("main.register",{url:"/register",templateUrl:"app/users/register/views/register.html",controller:"RegisterController",controllerAs:"register"}).state("main.login",{url:"/login",templateUrl:"app/users/login/views/login.html",controller:"LoginController",controllerAs:"login"})}])}(),function(){"use strict";angular.module("spaStore.users").controller("LoginController",function(){})}(),function(){"use strict";angular.module("spaStore.users").controller("RegisterController",["registerHelper","registerService","$timeout","$location","$scope",function(e,r,s,o,a){var t=this;t.hasSecondInvoice=!1,t.errorMessage="",t.formIsInvalid=!1,t.registerForm={username:"Потребителско име:",password:"Парола:",confirmPassword:"Потвърди Парола:",email:"Email адрес:",name:"Име и фамилия:",phone:"Телефон за контакт:",shippingAddress:"Адрес за доставка:",invoiceDetails:"Данни за фактура:",notes:"Забележки:",subscribed:"Записан за новини"},t.userData={},t.registerInProgress=!1,t.registerUser=function(){if(!t.registerInProgress){t.registerInProgress=!0;var a=e.validateUserModel(t.userData);if("boolean"!=typeof a)return t.formIsInvalid=!0,t.errorMessage=a,s(function(){t.formIsInvalid=!1},4e3),void(t.registerInProgress=!1);r.registerUser(t.userData).then(function(e){t.registerInProgress=!1,o.path("/dashboard"),console.log(e)},function(e){t.registerInProgress=!1,console.log(e)})}console.log(t.userData)}}])}(),function(){"use strict";angular.module("spaStore.admin",["ui.router"]).config(["$stateProvider",function(e){e.state("admin",{url:"/admin/login",templateUrl:"app/admin/login/views/login-admin.html",controller:"LoginAdminController",controllerAs:"loginAdmin"})}])}(),function(){"use strict";angular.module("spaStore.admin").controller("LoginAdminController",["$log",function(e){e.log("working admin")}])}(),function(){"use strict";angular.module("spaStore").factory("userInfoService",["commonMethods","$location",function(e,r){function s(){var r=e.getObjectFromLocalStorage("userInfo");null!=r?o.storageInUse="localStorage":o.storageInUse="sessionStorage"}var o=this;return o.userInfo={clientIsAuthenticated:!1,clientUsername:""},s(),o.setUserInfo=function(r){"localStorage"==o.storageInUse?e.setObjectInLocalStorage("userInfo",r):e.setObjectInSessionStorage("userInfo",r)},o.getUserInfo=function(){var r=e.getObjectFromLocalStorage("userInfo");return null==r&&(r=e.getObjectFromSessionStorage("userInfo")),r},authData.checkTokenExpiration=function(){var e=new Date;e.setSeconds(e.getSeconds()+10),e=Date.parse(e);var r=Date.parse($window.localStorage.expires);return isNaN(r)?!1:e>r},o.logout=function(){$window.localStorage.clear(),$window.sessionStorage.clear(),o.userInfo={clientIsAuthenticated:!1,clientUsername:"",storageInUse:""},r.path("/login")},this}])}(),function(){"use strict";angular.module("spaStore.users").factory("registerHelper",function(){function e(e){var r=/\S+@\S+\.\S+/;return r.test(e)}var r=this;return r.validateUserModel=function(r){return r.disclaimer?null==r.password||r.password.length<=4?"Паролата трябва да е с минумум 5 символа":r.password!=r.confirmPassword?"Паролите не съвпадат":null==r.username||r.username.length<=4?"Потребителското име трябва да е с минумум 5 символа":null!=r.email&&e(r.email)?!0:"Email полето е невалидно или празно":"Тикчето с общите условия е задължително."},r})}(),function(){"use strict";angular.module("spaStore.users").factory("registerService",["CONSTANTS","$http","$q",function(e,r,s){var o=this,a=e.DEVELOPMENT.DEVELOPMENT_BASE,t=e.USERS_ENDPOINT;return o.registerUser=function(e){var o=s.defer();return r.post(a+t,e,{headers:{}}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise},o}])}(),angular.module("spaStore").run(["$templateCache",function(e){e.put("app/dashboard/views/dashboard.html",'<div style="height: 305px" ng-controller="DashboardController"><div uib-carousel="" active="dashboard.carousselActive" interval="dashboard.carousselInterval" no-wrap="dashboard.noWrapSlides"><div uib-slide="" ng-repeat="slide in dashboard.carousselImages track by slide.id" index="slide.id"><img class="carousel-image-main" ng-src="{{slide.image}}" style="margin:auto;"><div class="carousel-caption"><h4>Slide {{slide.id}}</h4><p>{{slide.text}}</p></div></div></div></div>'),e.put("app/main/views/main.html",'<div class="row" style="width:100%;height:80px;margin-bottom:15px"><div class="inline-block col-md-3 col-sm-3 col-xs-3" style="margin-left:3%;margin-top:11px;height:82%;vertical-align: middle;text-align: center;"><img src="https://www.jobs.bg/assets/logo/2013-11-06/b_11450615a86c7729dd5335916f2a0ca9.JPG" style="width:100%;max-height:100%"></div><div class="inline-block col-md-8 col-sm-8 col-xs-8" style="margin-top:11px;height:82%;vertical-align: middle;text-align: center;padding:20px;"><ul class="list-inline helvetica-font"><li class="inline-block"><strong>Контакти</strong></li><li class="inline-block"><strong>Общи условия</strong></li><li class="inline-block"><strong>Профил</strong></li><li class="inline-block"><div class="hidden-phone hidden-tablet"><div class="form-group inline-block"><input type="text" class="form-control" placeholder="Search"></div><div class="form-group inline-block"><select class="form-control" ng-model="main.selectedBrand" ng-options="brand for brand in main.allBrands"></select></div><div class="form-group inline-block"><select class="form-control" ng-model="main.selectedCategory"><option ng-class="{\'ident-options\':category.type!=\'sub\'}" class="form-control" ng-repeat="category in main.allCategories">{{category.name}}</option></select></div><button type="submit" class="btn btn-default">Търси</button></div></li></ul></div></div><nav class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#left-navigation-dropdown" aria-expanded="false"><span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><div class="navbar-brand">Спа Трейд ООД</div></div><div class="collapse navbar-collapse navbar-right" id="left-navigation-dropdown"><ul class="nav navbar-nav"><li><a href="#">Начало</a></li><li><a href="#">Промоции</a></li><li><a href="#">За Козметици</a></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="#">Action</a></li><li><a href="#">Another action</a></li><li><a href="#">Something else here</a></li><li role="separator" class="divider"></li><li><a href="#">Separated link</a></li><li role="separator" class="divider"></li><li><a href="#">One more separated link</a></li></ul></li></ul><ul class="nav navbar-nav"><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="#">Action</a></li><li><a href="#">Another action</a></li><li><a href="#">Something else here</a></li><li role="separator" class="divider"></li><li><a href="#">Separated link</a></li></ul></li></ul></div></div></nav><div ui-view=""></div><footer>Some Footer</footer>'),e.put("app/admin/login/views/login-admin.html",'<div style="margin:20% auto"><div class="centered-content"><div class="centered-text">Welcome, Admin!Please log in!</div><input class="form-control input-admin centered-content" type="text" placeholder="Username"> <input class="form-control input-admin centered-content" type="password" placeholder="Password"><div class="centered-text"><button class="btn btn-default inline-block">Log in</button><div class="inline-block">Remember me</div><checkbox ng-model="admin.checkboxModel"></checkbox></div></div></div>'),e.put("app/users/login/views/login.html","login"),e.put("app/users/register/views/register.html",'<div class="container-fluid"><div class="row"><div class="col-xs-10 col-sm-5 col-md-4"><div class="form-group"><label for="usernameRegister">{{register.registerForm.username}}<span class="red-color">*</span></label> <input type="text" class="form-control" id="usernameRegister" ng-model="register.userData.username" placeholder="{{register.registerForm.username}}"></div><div class="form-group"><label for="passwordRegister">{{register.registerForm.password}}<span class="red-color">*</span></label> <input type="password" class="form-control" id="passwordRegister" ng-model="register.userData.password" placeholder="{{register.registerForm.password}}"></div><div class="form-group"><label for="confirmPassRegister">{{register.registerForm.confirmPassword}}<span class="red-color">*</span></label> <input type="password" class="form-control" id="confirmPassRegister" ng-model="register.userData.confirmPassword" placeholder="{{register.registerForm.confirmPassword}}"></div><div class="form-group"><label for="nameRegister">{{register.registerForm.name}}<span class="red-color">*</span></label> <input type="text" class="form-control" id="nameRegister" ng-model="register.userData.name" placeholder="{{register.registerForm.name}}"></div><div class="form-group"><label for="emailRegister">{{register.registerForm.email}}<span class="red-color">*</span></label> <input type="email" class="form-control" id="emailRegister" ng-model="register.userData.email" placeholder="{{register.registerForm.email}}"></div><div class="form-group"><label for="phoneRegister">{{register.registerForm.phone}}</label> <input type="text" class="form-control" id="phoneRegister" ng-model="register.userData.phone" placeholder="{{register.registerForm.phone}}"></div></div><div class="col-xs-10 col-sm-5 col-md-4"><div class="form-group"><label for="shippingAddress">{{register.registerForm.shippingAddress}}</label> <textarea class="form-control" ng-model="register.userData.shippingAddress" rows="5" id="shippingAddress" placeholder="Град, улица, номер"></textarea></div><div class="form-group"><label for="invoiceDetails">{{register.registerForm.invoiceDetails}}</label> <textarea class="form-control" ng-model="register.userData.invoiceDetails" rows="5" id="invoiceDetails" placeholder="Данни за фактура - първа фирма"></textarea></div><div class="from-group"><div class="btn btn-info" ng-click="register.hasSecondInvoice = !register.hasSecondInvoice">Добави/Премахни втора фирма</div></div><div class="clearfix">&nbsp</div><div class="form-group" ng-if="register.hasSecondInvoice"><label for="invoiceDetails1">{{register.registerForm.invoiceDetails}}</label> <textarea class="form-control" ng-model="register.userData.secondInvoiceDetails" rows="5" id="invoiceDetails1" placeholder="Данни за фактура - втора фирма"></textarea></div><div class="form-group"><label for="notesRegister">{{register.registerForm.notes}}</label> <textarea class="form-control" ng-model="register.userData.additionalInfo" rows="5" id="notesRegister" placeholder="Други забележки"></textarea></div></div></div><div class="row centered-text"><div class="col-xs-10 col-sm-10 col-md-8"><div class="inline-block">Съгласен съм с обшите условия<span class="red-color">*</span></div><checkbox ng-model="register.userData.disclaimer"></checkbox><div class="inline-block">Абонирам се за известия</div><checkbox ng-model="register.userData.isSubscribed"></checkbox></div></div><div class="clearfix">&nbsp</div><div class="row centered-text big-font" ng-if="register.formIsInvalid"><div class="col-xs-10 col-sm-10 col-md-8"><div class="red-color">{{register.errorMessage}}</div></div></div><div class="clearfix">&nbsp</div><div class="row centered-text"><div class="col-xs-10 col-sm-10 col-md-8"><div class="btn btn-success" ng-click="register.registerUser()">Регистрирай ме</div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-e9840b07d2.js.map
